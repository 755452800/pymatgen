

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pymatgen.io.packmol module &mdash; pymatgen 2022.7.8 documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://pymatgen.orgpymatgen.io.packmol.html"/>
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pymatgen.io.phonopy module" href="pymatgen.io.phonopy.html" />
    <link rel="prev" title="pymatgen.io.nwchem module" href="pymatgen.io.nwchem.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: linear-gradient(0deg, rgba(23,63,162,1) 0%, rgba(0,70,192,1) 100%)" >
          

          
            <a href="index.html" class="icon icon-home"> pymatgen
          

          
          </a>

          
            
            
              <div class="version">
                2022.7.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="change_log.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="compatibility.html">Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="team.html">Development Team</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pymatgen.html">pymatgen namespace</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pymatgen.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pymatgen.alchemy.html">pymatgen.alchemy package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.analysis.html">pymatgen.analysis namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.apps.html">pymatgen.apps package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.cli.html">pymatgen.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.command_line.html">pymatgen.command_line package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.core.html">pymatgen.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.electronic_structure.html">pymatgen.electronic_structure package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.entries.html">pymatgen.entries package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.ext.html">pymatgen.ext namespace</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="pymatgen.io.html">pymatgen.io namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.optimization.html">pymatgen.optimization package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.phonon.html">pymatgen.phonon package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.symmetry.html">pymatgen.symmetry package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.transformations.html">pymatgen.transformations package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.util.html">pymatgen.util package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pymatgen.vis.html">pymatgen.vis package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pymatgen.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pymatgen</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">pymatgen</a> &raquo;</li>
        
          <li><a href="pymatgen.html">pymatgen namespace</a> &raquo;</li>
        
          <li><a href="pymatgen.io.html">pymatgen.io namespace</a> &raquo;</li>
        
      <li>pymatgen.io.packmol module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/materialsproject/pymatgen/blob/master/docs_rst/pymatgen.io.packmol.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pymatgen.io.packmol">
<span id="pymatgen-io-packmol-module"></span><h1>pymatgen.io.packmol module<a class="headerlink" href="#module-pymatgen.io.packmol" title="Permalink to this headline">Â¶</a></h1>
<p>This module provides a pymatgen I/O interface to packmol.</p>
<p>This adopts the minimal core I/O interface (see pymatgen/io/core).
In this case, only a two classes are used. PackmolSet(InputSet) is the container
class that provides a run() method for running packmol locally.</p>
<p>PackmolBoxGen(InputGenerator) provides a recipe for packing molecules into a
box, which returns a PackmolSet object.</p>
<p>For the run() method to work, you need to install the packmol package
See <a class="reference external" href="http://m3g.iqm.unicamp.br/packmol">http://m3g.iqm.unicamp.br/packmol</a> or
<a class="reference external" href="http://leandro.iqm.unicamp.br/m3g/packmol/home.shtml">http://leandro.iqm.unicamp.br/m3g/packmol/home.shtml</a>
for download and setup instructions. Note that packmol versions prior to 20.3.0
do not support paths with spaces.
After installation, you may need to manually add the path of the packmol
executable to the PATH environment variable.</p>
<dl class="py class">
<dt id="pymatgen.io.packmol.PackmolBoxGen">
<em class="property">class </em><code class="sig-name descname">PackmolBoxGen</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tolerance</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">control_params</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inputfile</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>pathlib.Path<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'packmol.inp'</span></em>, <em class="sig-param"><span class="n">outputfile</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>pathlib.Path<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'packmol_out.xyz'</span></em>, <em class="sig-param"><span class="n">stdoutfile</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>pathlib.Path<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'packmol.stdout'</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2022.7.8/pymatgen/core/../io/packmol.py#L101-L230"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.packmol.PackmolBoxGen" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pymatgen.io.core.html#pymatgen.io.core.InputGenerator" title="pymatgen.io.core.InputGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.core.InputGenerator</span></code></a></p>
<p>Generator for a Packmol InputSet that packs one or more molecules into a rectangular
simulation box.</p>
<p>Instantiate a PackmolBoxGen class. The init method defines simulations parameters
like filenames, random seed, tolerance, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tolerance</strong> â Tolerance for packmol, in Ã.</p></li>
<li><p><strong>seed</strong> â Random seed for packmol. Use a value of 1 (default) for deterministic
output, or -1 to generate a new random seed from the current time.</p></li>
<li><p><strong>inputfile</strong> â Path to the input file. Default to âpackmol.inpâ.</p></li>
<li><p><strong>outputfile</strong> â Path to the output file. Default to âoutput.xyzâ.</p></li>
<li><p><strong>stdoutfile</strong> â Path to the file where stdout will be recorded. Default to âpackmol.stdoutâ</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pymatgen.io.packmol.PackmolBoxGen.get_input_set">
<code class="sig-name descname">get_input_set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">molecules</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Dict<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">box</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>float<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2022.7.8/pymatgen/core/../io/packmol.py#L135-L230"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.packmol.PackmolBoxGen.get_input_set" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Generate a Packmol InputSet for a set of molecules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>molecules</strong> â <p>A list of dict containing information about molecules to pack
into the box. Each dict requires three keys:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>ânameâ - the structure name</p></li>
<li><p>ânumberâ - the number of that molecule to pack into the box</p></li>
<li><dl class="simple">
<dt>âcoordsâ - Coordinates in the form of either a Molecule object or</dt><dd><p>a path to a file.</p>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
<p class="rubric">Example</p>
<dl class="simple">
<dt>{ânameâ: âwaterâ,</dt><dd><p>ânumberâ: 500,
âcoordsâ: â/path/to/input/file.xyzâ}</p>
</dd>
</dl>
</p></li>
<li><p><strong>box</strong> â A list of box dimensions xlo, ylo, zlo, xhi, yhi, zhi, in Ã. If set to None
(default), pymatgen will estimate the required box size based on the volumes of
the provided molecules.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymatgen.io.packmol.PackmolSet">
<em class="property">class </em><code class="sig-name descname">PackmolSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputs</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>pathlib.Path<span class="p">]</span><span class="p">, </span>Union<span class="p">[</span>str<span class="p">, </span><a class="reference internal" href="pymatgen.io.core.html#pymatgen.io.core.InputFile" title="pymatgen.io.core.InputFile">pymatgen.io.core.InputFile</a><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">{}</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2022.7.8/pymatgen/core/../io/packmol.py#L38-L98"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.packmol.PackmolSet" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pymatgen.io.core.html#pymatgen.io.core.InputSet" title="pymatgen.io.core.InputSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.core.InputSet</span></code></a></p>
<p>InputSet for the Packmol software. This class defines several attributes related
to</p>
<p>Instantiate an InputSet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> â The core mapping of filename: file contents that defines the InputSet data.
This should be a dict where keys are filenames and values are InputFile objects
or strings representing the entire contents of the file. If a value is not an
InputFile object nor a str, but has a __str__ method, this str representation
of the object will be written to the corresponding file. This mapping will
become the .inputs attribute of the InputSet.</p></li>
<li><p><strong>**kwargs</strong> â Any kwargs passed will be set as class attributes e.g.
InputSet(inputs={}, foo=âbarâ) will make InputSet.foo == âbarâ.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pymatgen.io.packmol.PackmolSet.from_directory">
<em class="property">classmethod </em><code class="sig-name descname">from_directory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>pathlib.Path<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2022.7.8/pymatgen/core/../io/packmol.py#L90-L98"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.packmol.PackmolSet.from_directory" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Construct an InputSet from a directory of one or more files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>directory</strong> â Directory to read input files from</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pymatgen.io.packmol.PackmolSet.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>pathlib.Path<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">timeout</span><span class="o">=</span><span class="default_value">30</span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/materialsproject/pymatgen/blob/v2022.7.8/pymatgen/core/../io/packmol.py#L44-L88"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymatgen.io.packmol.PackmolSet.run" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Run packmol and write out the packed structure.
:param path: The path in which packmol input files are located.
:param timeout: Timeout in seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError if packmol does not succeed in packing the box.</strong> â </p></li>
<li><p><strong>TimeoutExpiredError if packmold does not finish within the timeout.</strong> â </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011, Pymatgen Development Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>


</body>
</html>